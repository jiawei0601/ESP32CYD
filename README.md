# ESP32-CYD 多功能儀表板

這是一個專為 ESP32-CYD ( Cheap Yellow Display / ESP32-2432S028) 設計的多功能顯示專案，具備精美的工作介面與即時數據更新功能。

## 🚀 主要功能

- **市場監控儀表板**：即時抓取 NASDAQ、NVDA、GOOGLE 指數以及 BTC 加密貨幣價格。
- **台股指數監控**：即時顯示台灣加權指數 (TAIEX) 與漲跌幅。
- **Aura 美化氣象站**：具備動態圖示（晴天、多雲、雨天）的氣象儀表板，支援城市自訂。
- **Retro Ticker (仿 Tickertronix)**：超大字體顯示特定資產 (如 NVDA) 的即時報價。
- **系統設置**：內建 WiFi 掃描器與螢幕鍵盤，無需修改程式碼即可連接網路。
- **自動化功能**：包含 WiFi 斷線偵錯與自動重新連線機制。

## 🛠 硬體設備

- **ESP32-CYD (ESP32-2432S028)** 顯示器（內建 2.8 吋觸控螢幕）。
- **MicroSD 卡** (格式化為 FAT32)，用於存放相簿圖片（圖片建議為 320x240）。

## ⚙️ 快速設定

### 方法 A：直接燒錄 (推薦，適合非開發者)
如果你不想設定開發環境，可以直接將本專案提供的二進位檔燒錄進 ESP32-CYD：
1. 下載本專案的 `firmware_bundle` 資料夾。
2. 使用 [ESP32 網頁燒錄器 (Web Flasher)](https://web.esphome.io/) 或 [ESP32 Flash Download Tool](https://www.espressif.com/en/support/download/other-tools)。
3. 按照以下位址設定：
   - `bootloader.bin` -> 位址 `0x1000`
   - `partitions.bin` -> 位址 `0x8000`
   - `firmware.bin` -> 位址 `0x10000`

### 方法 B：自行編譯 (適合開發者)
1. **編譯環境**：建議使用 VS Code 搭配 **PlatformIO** 插件進行編譯。
2. **網路連接**：初次開機後，切換至第 5 頁（設定頁面），掃描並連線您的 WiFi。
3. **自動安裝**：PlatformIO 會自動安裝必要的函式庫（`TFT_eSPI`、`ArduinoJson`、`TJpg_Decoder`、`XPT2046_Touchscreen`）。
4. **燒錄程式**：透過 Micro USB 連接電腦後，執行 `Upload` 即可部署。

## 📱 操作指南

- **頂部導航欄**：點擊螢幕最上方的藍色數字條 (1-5) 可快速切換功能頁面。
- **頁面 1 (市場)**：顯示納斯達克指數與熱門個股，支援 HTTPS 加密抓取，解決 401 權限問題。
- **頁面 2 (股市)**：顯示台灣加權指數即時價格。
- **頁面 3 (天氣)**：顯示您設定城市的氣溫、體感溫度與風速。
- **頁面 4 (相簿)**：自動輪播 SD 卡內的照片（每 8 秒更換一張）。
- **頁面 5 (設定)**：管理 WiFi 連線與設定氣象觀測城市。

## 📝 開發筆記

- **局部刷新機制**：介面採用局部刷新技術，確保在換頁時不會覆蓋頂部導航按鍵。
- **API 強化**：金融數據採用 Brapi 與 Yahoo Finance 雙路徑備援，確保數據獲取穩定。
- **介面優化**：針對螢幕觸控準確度與視覺美感進行了多次調優，提供 Premium 等級的視覺效果。

## ⚠️ 注意事項
- **相簿圖片**：請確保圖片解析度不超過 320x240。
- **數據來源**：本專案使用公開 API (Yahoo Finance, Open-Meteo)，數據僅供參考。
